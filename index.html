<!DOCTYPE html>
<html lang="pt-BR">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>√çndice de Sa√∫de Financeira (ISF)</title>
    <link
      href="https://fonts.googleapis.com/css?family=Montserrat:700,400&display=swap"
      rel="stylesheet"
    />
    <style>
      :root {
        --primary: #203764;
        --accent: #06d6a0;
        --danger: #f94144;
        --bg: #f7fafc;
        --dark: #22223b;
      }
      * {
        box-sizing: border-box;
      }
      body {
        margin: 0;
        background: var(--bg);
        font-family: "Montserrat", Arial, sans-serif;
        color: var(--dark);
      }
      header {
        background: linear-gradient(100deg, var(--primary) 60%, var(--accent));
        color: #fff;
        padding: 2rem 0 1rem 0;
        text-align: center;
        animation: fadeInDown 1.5s;
      }
      header h1 {
        margin: 0 0 0.5em 0;
        font-size: 2.5em;
        font-weight: 700;
        letter-spacing: 1px;
      }
      header p {
        font-size: 1.25em;
        margin-bottom: 0;
        font-weight: 400;
        letter-spacing: 0.5px;
        opacity: 0.88;
      }

      main {
        max-width: 640px;
        margin: 40px auto 0 auto;
        padding: 2rem;
        background: #fff;
        border-radius: 1.5em;
        box-shadow: 0 8px 24px 0 rgba(32, 55, 100, 0.08);
        animation: fadeInUp 2s;
        position: relative;
        z-index: 2;
      }
      .form-section label {
        font-weight: 600;
        margin-top: 1.5em;
        display: block;
      }
      .form-section input[type="number"] {
        width: 100%;
        padding: 0.7em 1em;
        border-radius: 8px;
        border: 1.5px solid #e0e5ec;
        font-size: 1.2em;
        margin-bottom: 1em;
        transition: border-color 0.2s;
      }
      .form-section input[type="number"]:focus {
        border-color: var(--primary);
        outline: none;
      }
      button {
        background: var(--primary);
        color: #fff;
        font-weight: bold;
        font-size: 1.2em;
        border: none;
        padding: 0.8em 2em;
        border-radius: 8px;
        cursor: pointer;
        transition: background 0.25s, transform 0.1s;
        box-shadow: 0 3px 12px rgba(32, 55, 100, 0.07);
        margin-top: 0.5em;
      }
      button:hover {
        background: var(--accent);
        color: var(--dark);
        transform: translateY(-2px) scale(1.04);
      }

      .result-section {
        margin-top: 2.5em;
        padding: 2em 1em 1em 1em;
        border-radius: 1em;
        background: #f1f7ff;
        box-shadow: 0 2px 10px rgba(32, 55, 100, 0.03);
        display: none;
        animation: fadeInUp 1s;
        position: relative;
      }
      .result-section.active {
        display: block;
      }
      .isf-value {
        font-size: 2.2em;
        font-weight: 700;
        color: var(--primary);
        text-align: center;
      }

      .result-header {
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
      }

      .profile-name {
        display: block;
        font-size: 1.3em;
        margin: 0.2em 0 0.5em 0;
        font-weight: 600;
        text-align: center;
        border-radius: 6px;
        padding: 0.1em 0.6em;
        color: #fff;
        background: var(--accent);
        width: fit-content;
        margin-left: auto;
        margin-right: auto;
        transition: background 0.3s;
      }
      .profile-danger {
        background: var(--danger) !important;
      }
      .profile-warning {
        background: #ffb700 !important;
      }
      .profile-ok {
        background: #40c057 !important;
      }

      .profile-desc {
        text-align: center;
        font-size: 1.05em;
        margin-top: 0.5em;
        opacity: 0.9;
      }
      .animated-bar {
        width: 100%;
        height: 14px;
        background: #eee;
        border-radius: 6px;
        margin: 1.2em 0 1em 0;
        overflow: hidden;
      }
      .bar-inner {
        height: 100%;
        background: linear-gradient(90deg, var(--accent) 40%, var(--primary));
        border-radius: 6px;
        width: 0;
        transition: width 1.2s cubic-bezier(0.62, 0.28, 0.23, 0.99);
      }

      .profile-list {
        margin-top: 2em;
        background: #f9fafb;
        border-radius: 1em;
        padding: 1.2em;
        box-shadow: 0 1px 8px rgba(32, 55, 100, 0.03);
        font-size: 1em;
      }
      .profile-list-title {
        color: var(--primary);
        font-size: 1.1em;
        font-weight: 700;
        margin-bottom: 0.8em;
        text-align: center;
      }
      .profile-item {
        margin: 0.9em 0;
      }
      .profile-range {
        font-weight: bold;
        color: var(--primary);
        margin-right: 6px;
        font-size: 0.98em;
      }
      .profile-item-title {
        font-weight: 600;
      }
      .profile-nextstep {
        color: var(--primary);
        font-size: 0.98em;
        margin-top: 0.12em;
        font-style: italic;
      }

      @media (max-width: 700px) {
        main {
          padding: 1.1em;
        }
        .profile-list {
          font-size: 0.96em;
        }
        .result-section {
          padding: 1.2em 0.5em 0.5em 0.5em;
        }
      }
      @media (max-width: 430px) {
        .isf-value {
          font-size: 2.4em;
        }
        header {
          padding: 1.1rem;
        }
        header h1 {
          font-size: 1.4em;
        }
        .profile-name {
          font-size: 1em;
        }
        .form-section button {
          display: block;
          margin: 1em auto 0 auto;
        }
      }

      @keyframes fadeInUp {
        from {
          opacity: 0;
          transform: translateY(24px);
        }
        to {
          opacity: 1;
          transform: none;
        }
      }
      @keyframes fadeInDown {
        from {
          opacity: 0;
          transform: translateY(-32px);
        }
        to {
          opacity: 1;
          transform: none;
        }
      }
    </style>
  </head>
  <body>
    <header>
      <h1>Descubra seu √çndice de Sa√∫de Financeira (ISF)</h1>
      <p>
        Veja em qual dos 5 Perfis Financeiros voc√™ se encaixa e desperte para
        sua verdadeira realidade financeira!
      </p>
    </header>
    <main>
      <form class="form-section" id="formISF" autocomplete="off">
        <label for="renda">Renda Mensal (R$):</label>
        <input
          type="number"
          id="renda"
          min="0"
          placeholder="Ex: 5000"
          required
          step="any"
        />
        <label for="gastos">Despesas Essenciais Mensais (R$):</label>
        <input
          type="number"
          id="gastos"
          min="0"
          placeholder="Ex: 3200"
          required
          step="any"
        />
        <button type="submit">Calcular meu ISF</button>
      </form>

      <section class="result-section" id="resultSection">
        <div class="result-header">
          <span class="isf-value" id="isfValue"></span>
          <h2 class="profile-name profile-warning" id="profileName"></h2>
        </div>

        <div class="animated-bar">
          <div class="bar-inner" id="barISF"></div>
        </div>

        <p class="profile-tagline" id="profileTagline"></p>

        <div class="profile-details">
          <p>
            <strong>‚úì Caracter√≠sticas</strong><br />
            <span id="profileCaracteristicas"></span>
          </p>
          <p>
            <strong>‚ö† Principais Desafios</strong><br />
            <span id="profileDesafios"></span>
          </p>
          <p>
            <strong>üí≠ Mentalidade</strong><br />
            <span id="profileMentalidade"></span>
          </p>
          <p>
            <strong>‚Üí Pr√≥ximo Passo</strong><br />
            <span id="profileProximo"></span>
          </p>
        </div>
      </section>

      <section class="profile-list">
        <div class="profile-list-title">
          Os 5 Perfis Financeiros segundo o ISF
        </div>
        <div class="profile-item">
          <span class="profile-range">0-20%:</span>
          <span class="profile-item-title">O Sobrevivente</span> ‚Äî Vive no
          vermelho, d√≠vidas constantes, ansiedade financeira. <br />
          <span class="profile-nextstep"
            >Pr√≥ximo passo: Controle b√°sico de gastos e quitar d√≠vidas
            emergenciais.</span
          >
        </div>
        <div class="profile-item">
          <span class="profile-range">20-40%:</span>
          <span class="profile-item-title">O Equilibrador</span> ‚Äî Consegue
          pagar as contas, mas n√£o sobra nada. <br />
          <span class="profile-nextstep"
            >Pr√≥ximo passo: Criar reserva de emerg√™ncia e cortar
            vazamentos.</span
          >
        </div>
        <div class="profile-item">
          <span class="profile-range">40-60%:</span>
          <span class="profile-item-title">O Poupador</span> ‚Äî Guarda dinheiro,
          mas sem estrat√©gia. <br />
          <span class="profile-nextstep"
            >Pr√≥ximo passo: Diversificar investimentos e aprender mais sobre
            finan√ßas.</span
          >
        </div>
        <div class="profile-item">
          <span class="profile-range">60-80%:</span>
          <span class="profile-item-title">O Investidor</span> ‚Äî Investe
          regularmente, portf√≥lio diversificado, pensa no futuro. <br />
          <span class="profile-nextstep"
            >Pr√≥ximo passo: Aumentar aportes e estrat√©gias avan√ßadas.</span
          >
        </div>
        <div class="profile-item">
          <span class="profile-range">80-100%:</span>
          <span class="profile-item-title">O Livre</span> ‚Äî Independ√™ncia
          financeira conquistada! <br />
          <span class="profile-nextstep"
            >Pr√≥ximo passo: Expandir impacto e ajudar outros a chegar l√°.</span
          >
        </div>
      </section>
    </main>
    <script>
      // Perfis de acordo com o ISF
      const perfis = [
        {
          nome: "O Sobrevivente",
          faixa: [0, 20],
          class: "profile-danger",
          caracteristicas:
            "D√≠vidas constantes, conta no negativo, vive de sal√°rio em sal√°rio",
          desafios:
            "Juros de cart√£o, nome sujo, ansiedade financeira constante.",
          mentalidade: "‚ÄúNunca sobra nada‚Äù, ‚ÄúRico nasce pronto‚Äù.",
          proximo:
            "Controle b√°sico de gastos e quita√ß√£o de d√≠vidas emergenciais.",
        },
        {
          nome: "O Equilibrista",
          faixa: [20, 40],
          class: "profile-warning",
          caracteristicas:
            "Qualquer imprevisto vira crise, sem planejamento futuro.",
          desafios: "Falta de reserva e gastos desnecess√°rios.",
          mentalidade:
            "‚ÄúPelo menos n√£o devo‚Äù, ‚ÄúInvestir √© para quem ganha mais‚Äù.",
          proximo: "Criar reserva de emerg√™ncia e cortar vazamentos.",
        },
        {
          nome: "O Poupador",
          faixa: [40, 60],
          class: "profile-ok",
          caracteristicas:
            "Tem reserva na poupan√ßa, mas dinheiro n√£o trabalha.",
          desafios: "Dinheiro perdendo para infla√ß√£o, medo de investir.",
          mentalidade: "‚ÄúPoupan√ßa √© segura‚Äù, ‚ÄúInvestimento √© arriscado‚Äù.",
          proximo: "Diversificar investimentos e educa√ß√£o financeira.",
        },
        {
          nome: "O Investidor",
          faixa: [60, 80],
          class: "profile-ok",
          caracteristicas:
            "Carteira diversificada, planeja aposentadoria, aporte mensal.",
          desafios: "Otimizar rendimentos, acelerar independ√™ncia.",
          mentalidade:
            "‚ÄúMeu dinheiro trabalha para mim‚Äù, ‚ÄúTempo √© meu aliado‚Äù.",
          proximo: "Aumentar aportes e estrat√©gias avan√ßadas.",
        },
        {
          nome: "O Livre",
          faixa: [80, 100],
          caracteristicas: "Renda passiva cobre gastos, trabalha por escolha",
          desafios: "Manter e crescer patrim√¥nio, legado.",
          mentalidade: "‚ÄúTrabalho porque quero‚Äù, ‚ÄúFoco no impacto‚Äù.",
          proximo: "Expandir impacto e ajudar outros a chegarem l√°.",
          class: "profile-ok",
        },
      ];

      function identificarPerfil(isf) {
        for (const p of perfis) {
          if (
            (isf >= p.faixa[0] && isf < p.faixa[1]) ||
            (p.faixa[1] === 100 && isf === 100)
          ) {
            return p;
          }
        }
        return perfis[0];
      }

      document.getElementById("formISF").onsubmit = function (e) {
        e.preventDefault();
        const renda = parseFloat(
          document.getElementById("renda").value.replace(",", ".")
        );
        const gastos = parseFloat(
          document.getElementById("gastos").value.replace(",", ".")
        );
        if (isNaN(renda) || isNaN(gastos) || renda <= 0 || gastos < 0) {
          alert("Preencha todos os valores corretamente!");
          return;
        }
        let isf = ((renda - gastos) / renda) * 100;
        isf = Math.max(0, Math.round(isf)); // n√£o pode ser negativo
        const perfil = identificarPerfil(isf);

        // Atualiza resultado
        document.getElementById("isfValue").textContent = `Seu ISF: ${isf}%`;
        const pName = document.getElementById("profileName");
        pName.textContent = perfil.nome;
        pName.className = "profile-name " + perfil.class;
        // Divide o texto do perfil em partes usando <br> como separador
        document.getElementById("profileCaracteristicas").textContent =
          perfil.caracteristicas;
        document.getElementById("profileDesafios").textContent =
          perfil.desafios;
        document.getElementById("profileMentalidade").textContent =
          perfil.mentalidade;
        document.getElementById("profileProximo").textContent = perfil.proximo;

        // Anima barra
        const bar = document.getElementById("barISF");
        const novoValor = `${Math.min(isf, 100)}%`;

        // For√ßa a barra a voltar para 0% (com transi√ß√£o)
        bar.style.transition = "none"; // remove transi√ß√£o
        bar.style.width = "0%";

        // Aguarda um frame para aplicar a transi√ß√£o
        requestAnimationFrame(() => {
          requestAnimationFrame(() => {
            bar.style.transition =
              "width 1.2s cubic-bezier(0.62, 0.28, 0.23, 0.99)";
            bar.style.width = novoValor;
          });
        });

        document.getElementById("resultSection").classList.add("active");
        setTimeout(() => {
          document.getElementById("resultSection");
        }, 300);
      };
    </script>
  </body>
</html>
